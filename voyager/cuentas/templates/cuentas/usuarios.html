{% extends 'root/base.html' %}
{% load static %}

{% block optionalCSS %}
<link href="{% static 'cuentas/css/usuarios.css' %}" rel="stylesheet"/>
{% endblock %}

{% block content %}

<div class="text-md-left text-center">
    <h2>Usuarios
        <button type="button" class="btn btn-secondary text-dark border-0" data-container="body" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Visualice y administre sus usuarios">
            <i class="fa fa-question-circle fa-lg"></i>
        </button>
    </h2>
</div>
<div id="table" class="table-responsive table-full-width">
    <table class="table table-hover e-bordered table-responsive-md table-striped" id="tabla_usuarios">
        <thead>
            <th class="text-center"># <i class="fa fa-sort"></i></th>
            <th class="text-center">Nombre <i class="fa fa-sort"></i></th>
            <th class="text-center">Estatus <i class="fa fa-sort"></i></th>
            <th class="text-center">Empresa <i class="fa fa-sort"></i></th>
            <th data-container="body" data-toggle="popover" data-trigger="hover" data-placement="left" data-content="Visualice o elimine un usuario">Acciones</th>
        </thead>
        <tbody>
            {% for c in usuarios %}
            <tr id="usuario-{{c.user.id}}">
                <td class="pt-3 u_id">{{ c.user.id }}</td>
                <td class="pt-3 u_nombre">{{ c.nombre}} {{ c.apellido_paterno }} {{ c.apellido_materno }}</td>
                <td class="pt-3 u_estatus">{{ c.estatus_pago }}</td>
                <td class="pt-3 u_empresa">{{ c.empresa }}</td>
                <td>
                    <button type="button" class="btn btn-primary" onclick="cargar_info_usuario({{ c.user.id }})" data-toggle="modal" data-target="#modal_info_usuario">
                        <i class="fas fa-eye"></i>
                    </button>
                    <button type="button" class="btn btn-danger" onclick="" data-toggle="modal" data-target="">
                        <i class='fas fa-trash'></i>
                    </button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>


{% include './modals/info_usuario.html' %}
{% include './modals/actualizar_usuario.html' %}

{% endblock content %}

{% block optionalJS %}
    <script src='https://kit.fontawesome.com/a076d05399.js'></script>
    <script src="{% static 'cuentas/js/table.js' %}" type="text/javascript"></script>
    <script src="{% static 'cuentas/js/usuario.js' %}" type="text/javascript"></script>
{% endblock %}
